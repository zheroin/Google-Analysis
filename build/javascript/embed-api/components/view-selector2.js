!function(e){function t(i){if(r[i])return r[i].exports;var o=r[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,r){function i(){var e=gapi.client.request({path:s}).then(function(e){return e});return new e.constructor(function(t,r){var i=[];e.then(function e(o){var c=o.result;c.items?i=i.concat(c.items):r(new Error("You do not have any Google Analytics accounts. Go to http://google.com/analytics to sign up.")),c.startIndex+c.itemsPerPage<=c.totalResults?gapi.client.request({path:s,params:{"start-index":c.startIndex+c.itemsPerPage}}).then(e):t(new n(i))}).then(null,r)})}var o,n=r(1),s="/analytics/v3/management/accountSummaries";e.exports={get:function(e){return e&&(o=null),o||(o=i())}}},function(e,t){function r(e){this.accounts_=e,this.webProperties_=[],this.profiles_=[],this.accountsById_={},this.webPropertiesById_=this.propertiesById_={},this.profilesById_=this.viewsById_={};for(var t,r=0;t=this.accounts_[r];r++)if(this.accountsById_[t.id]={self:t},t.webProperties){i(t,"webProperties","properties");for(var o,n=0;o=t.webProperties[n];n++)if(this.webProperties_.push(o),this.webPropertiesById_[o.id]={self:o,parent:t},o.profiles){i(o,"profiles","views");for(var s,c=0;s=o.profiles[c];c++)this.profiles_.push(s),this.profilesById_[s.id]={self:s,parent:o,grandParent:t}}}}function i(e,t,r){Object.defineProperty?Object.defineProperty(e,r,{get:function(){return e[t]}}):e[r]=e[t]}r.prototype.all=function(){return this.accounts_},i(r.prototype,"all","allAccounts"),r.prototype.allWebProperties=function(){return this.webProperties_},i(r.prototype,"allWebProperties","allProperties"),r.prototype.allProfiles=function(){return this.profiles_},i(r.prototype,"allProfiles","allViews"),r.prototype.get=function(e){if(!!e.accountId+!!e.webPropertyId+!!e.propertyId+!!e.profileId+!!e.viewId>1)throw new Error('get() only accepts an object with a single property: either "accountId", "webPropertyId", "propertyId", "profileId" or "viewId"');return this.getProfile(e.profileId||e.viewId)||this.getWebProperty(e.webPropertyId||e.propertyId)||this.getAccount(e.accountId)},r.prototype.getAccount=function(e){return this.accountsById_[e]&&this.accountsById_[e].self},r.prototype.getWebProperty=function(e){return this.webPropertiesById_[e]&&this.webPropertiesById_[e].self},i(r.prototype,"getWebProperty","getProperty"),r.prototype.getProfile=function(e){return this.profilesById_[e]&&this.profilesById_[e].self},i(r.prototype,"getProfile","getView"),r.prototype.getAccountByProfileId=function(e){return this.profilesById_[e]&&this.profilesById_[e].grandParent},i(r.prototype,"getAccountByProfileId","getAccountByViewId"),r.prototype.getWebPropertyByProfileId=function(e){return this.profilesById_[e]&&this.profilesById_[e].parent},i(r.prototype,"getWebPropertyByProfileId","getPropertyByViewId"),r.prototype.getAccountByWebPropertyId=function(e){return this.webPropertiesById_[e]&&this.webPropertiesById_[e].parent},i(r.prototype,"getAccountByWebPropertyId","getAccountByPropertyId"),e.exports=r},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),o=r.n(i);gapi.analytics.ready(function(){function e(e,t,r){e.innerHTML=t.map(function(e){var t=e.id==r?"selected ":" ";return"<option "+t+'value="'+e.id+'">'+e.name+"</option>"}).join("")}function t(e){return e.ids||e.viewId?{prop:"viewId",value:e.viewId||e.ids&&e.ids.replace(/^ga:/,"")}:e.propertyId?{prop:"propertyId",value:e.propertyId}:e.accountId?{prop:"accountId",value:e.accountId}:void 0}gapi.analytics.createComponent("ViewSelector2",{execute:function(){return this.setup_(function(){this.updateAccounts_(),this.changed_&&(this.render_(),this.onChange_())}.bind(this)),this},set:function(e){if(!!e.ids+!!e.viewId+!!e.propertyId+!!e.accountId>1)throw new Error('You cannot specify more than one of the following options: "ids", "viewId", "accountId", "propertyId"');if(e.container&&this.container)throw new Error("You cannot change containers once a view selector has been rendered on the page.");var t=this.get();return t.ids==e.ids&&t.viewId==e.viewId&&t.propertyId==e.propertyId&&t.accountId==e.accountId||(t.ids=null,t.viewId=null,t.propertyId=null,t.accountId=null),gapi.analytics.Component.prototype.set.call(this,e)},setup_:function(e){var t=this,r=function(){o.a.get().then(function(r){t.summaries=r,t.accounts=t.summaries.all(),e()},function(e){t.emit("error",e)})};gapi.analytics.auth.isAuthorized()?r():gapi.analytics.auth.on("signIn",r)},updateAccounts_:function(){var e=this.get(),r=t(e),i=void 0,o=void 0,n=void 0;if(!this.summaries.all().length)return void this.emit("error",new Error('This user does not have any Google Analytics accounts. You can sign up at "www.google.com/analytics".'));if(r)switch(r.prop){case"viewId":i=this.summaries.getProfile(r.value),o=this.summaries.getAccountByProfileId(r.value),n=this.summaries.getWebPropertyByProfileId(r.value);break;case"propertyId":n=this.summaries.getWebProperty(r.value),o=this.summaries.getAccountByWebPropertyId(r.value),i=n&&n.views&&n.views[0];break;case"accountId":o=this.summaries.getAccount(r.value),n=o&&o.properties&&o.properties[0],i=n&&n.views&&n.views[0]}else o=this.accounts[0],n=o&&o.properties&&o.properties[0],i=n&&n.views&&n.views[0];o||n||i?o==this.account&&n==this.property&&i==this.view||(this.changed_={account:o&&o!=this.account,property:n&&n!=this.property,view:i&&i!=this.view},this.account=o,this.properties=o.properties,this.property=n,this.views=n&&n.views,this.view=i,this.ids=i&&"ga:"+i.id):this.emit("error",new Error("This user does not have access to "+r.prop.slice(0,-2)+" : "+r.value))},render_:function(){var t=this.get();this.container="string"==typeof t.container?document.getElementById(t.container):t.container,this.container.innerHTML=t.template||this.template;var r=this.container.querySelectorAll("select"),i=this.accounts,o=this.properties||[{name:"(Empty)",id:""}],n=this.views||[{name:"(Empty)",id:""}];e(r[0],i,this.account.id),e(r[1],o,this.property&&this.property.id),e(r[2],n,this.view&&this.view.id),r[0].onchange=this.onUserSelect_.bind(this,r[0],"accountId"),r[1].onchange=this.onUserSelect_.bind(this,r[1],"propertyId"),r[2].onchange=this.onUserSelect_.bind(this,r[2],"viewId")},onChange_:function(){var e={account:this.account,property:this.property,view:this.view,ids:this.view&&"ga:"+this.view.id};this.changed_&&(this.changed_.account&&this.emit("accountChange",e),this.changed_.property&&this.emit("propertyChange",e),this.changed_.view&&(this.emit("viewChange",e),this.emit("idsChange",e),this.emit("change",e.ids))),this.changed_=null},onUserSelect_:function(e,t){var r={};r[t]=e.value,this.set(r),this.execute()},template:'<div class="ViewSelector2">  <div class="ViewSelector2-item">    <label>Account</label>    <select class="FormField"></select>  </div>  <div class="ViewSelector2-item">    <label>Property</label>    <select class="FormField"></select>  </div>  <div class="ViewSelector2-item">    <label>View</label>    <select class="FormField"></select>  </div></div>'})})}]);